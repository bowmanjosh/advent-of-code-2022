package example.josh.advent2022;

import java.util.LinkedList;

final class Day6 extends Day {
  private static final String MARKER_NOT_FOUND = "Error: start-of-packet marker not found.";
  private final char[] input;

  Day6() {
    input = new char[] {'g','z','b','z','w','z','j','w','w','r','f','f','t','f','r','r','b','v','v','c','b','c','v','c','f','f','p','s','s','v','h','h','z','f','z','b','f','z','z','r','b','r','t','r','c','t','t','n','t','h','n','h','s','n','h','s','n','n','c','l','c','p','c','t','p','p','r','w','w','g','p','p','p','p','c','h','h','v','v','c','t','v','t','s','v','s','w','w','c','d','c','r','r','d','z','d','h','z','d','z','v','d','d','v','f','v','f','j','j','l','l','d','v','v','f','l','l','f','h','l','f','h','l','h','g','h','n','h','g','h','r','g','r','s','g','g','v','b','b','h','d','h','f','f','z','g','g','m','t','t','j','q','t','j','j','g','l','j','j','w','t','j','w','j','g','g','l','d','l','z','z','r','f','r','p','p','p','j','s','j','g','g','q','r','r','d','b','b','g','w','g','t','w','w','w','t','q','w','t','q','q','v','c','c','j','n','n','h','r','h','q','q','s','n','s','s','j','b','s','s','m','j','j','b','z','j','j','q','n','q','n','l','n','j','n','c','j','j','z','z','q','d','d','f','q','q','q','n','q','v','n','q','n','c','q','q','m','s','s','h','q','q','c','c','s','s','v','p','v','l','l','b','b','f','v','f','m','m','m','g','z','g','d','g','g','t','j','g','j','t','j','b','t','t','n','g','t','n','n','h','h','f','r','f','d','d','m','t','m','t','f','t','c','f','t','t','h','v','t','t','w','z','w','r','z','r','b','r','g','r','b','r','q','b','q','c','c','m','m','t','v','t','q','v','t','q','q','z','m','z','w','m','z','z','z','s','v','z','v','h','h','h','q','l','h','q','l','q','p','l','p','g','g','v','m','v','w','m','m','s','h','h','n','s','h','s','j','s','z','z','l','j','l','n','l','r','n','l','l','g','d','d','q','l','l','p','m','l','l','s','g','s','w','w','q','n','q','l','n','l','q','q','l','m','q','q','v','r','q','v','r','q','r','p','p','v','r','r','q','w','q','h','q','l','l','g','j','g','c','g','g','s','l','l','q','g','l','l','g','h','l','g','h','h','b','v','h','h','c','v','v','b','d','d','v','c','v','w','w','w','z','d','z','z','f','j','j','v','c','c','z','b','b','w','c','c','j','v','c','c','m','v','m','f','v','f','g','f','m','f','t','t','w','r','t','t','p','m','t','m','s','s','z','c','c','j','g','g','c','s','s','m','q','s','m','s','g','s','z','z','f','p','p','h','g','h','v','g','v','v','c','d','d','t','l','t','w','l','w','n','n','r','b','b','f','d','b','b','t','s','s','r','v','v','m','w','w','j','f','f','l','m','l','b','l','w','l','r','l','m','l','w','w','h','r','h','n','h','q','n','n','v','d','v','l','l','z','b','l','z','z','n','d','z','d','l','z','z','h','p','p','r','b','r','p','r','n','r','z','r','j','j','l','n','l','n','r','r','j','d','d','g','r','r','w','r','t','t','c','s','t','s','g','s','h','s','z','z','v','g','v','f','v','p','f','p','q','f','p','f','b','p','b','f','b','w','b','m','m','z','v','v','n','n','q','v','v','q','p','p','z','s','p','z','p','z','p','l','l','d','q','l','q','s','q','l','l','d','m','l','m','g','m','c','m','w','m','s','m','f','s','f','z','f','d','z','z','b','p','z','z','b','b','c','w','b','b','t','p','p','p','h','l','h','s','h','c','h','j','j','s','z','z','t','c','t','p','p','r','q','p','p','s','z','z','c','h','c','q','c','z','c','z','d','d','s','c','s','r','s','t','s','n','t','s','t','j','s','j','q','j','j','f','g','g','v','c','c','g','b','g','g','q','h','g','h','r','h','p','p','d','l','d','n','l','n','d','n','p','d','d','l','l','g','p','l','g','p','p','n','l','p','n','n','m','w','w','g','l','g','h','h','f','t','f','r','t','r','q','t','q','s','s','z','r','s','s','f','j','j','z','h','z','f','h','f','s','s','f','l','f','s','l','s','m','m','g','r','r','c','d','r','d','n','r','d','n','n','q','z','n','n','d','r','r','b','t','r','r','m','h','r','h','b','h','s','b','s','g','s','n','s','l','s','q','l','q','n','n','c','p','c','c','p','l','p','l','d','p','l','d','p','p','s','h','s','d','s','s','q','d','s','q','d','s','q','d','s','d','s','d','f','s','d','d','c','h','c','z','h','c','z','c','s','z','c','s','c','f','f','z','h','f','z','f','f','p','b','b','g','t','t','d','h','t','h','n','h','n','j','n','w','n','n','w','r','r','m','w','m','l','l','j','z','l','z','l','z','d','z','r','r','c','v','c','b','b','s','f','s','t','f','s','f','n','f','q','f','t','q','f','f','g','j','f','j','z','f','j','f','s','j','s','w','s','w','c','c','s','v','c','v','l','c','c','s','h','h','j','p','j','c','c','c','n','f','n','q','q','m','s','q','m','m','r','w','m','w','j','w','s','w','g','s','g','j','s','j','t','t','m','j','m','j','t','t','p','q','t','q','w','t','t','g','m','g','f','m','m','n','b','n','r','n','p','n','w','p','p','g','s','p','g','g','w','n','w','q','n','q','p','q','m','m','b','m','m','n','w','n','l','l','b','w','w','d','q','q','z','s','q','q','t','g','t','t','n','r','t','r','l','l','c','w','c','c','h','p','c','h','c','b','h','b','p','b','n','p','b','p','s','p','t','p','v','t','v','z','v','r','z','z','s','l','l','j','d','d','j','z','j','j','m','q','m','m','d','p','m','d','d','c','d','z','z','r','d','r','q','d','d','t','c','t','p','p','w','z','z','w','r','z','r','v','z','r','v','r','z','z','j','t','z','t','q','q','s','m','m','c','n','c','l','l','h','m','l','m','p','m','h','g','s','r','t','r','z','j','h','j','b','t','f','v','h','m','z','p','s','s','f','b','j','w','c','d','s','h','t','h','n','m','m','q','m','f','h','l','h','w','c','b','b','l','l','w','z','b','w','f','g','f','v','z','j','c','q','b','l','c','h','z','q','q','q','g','c','g','m','p','n','b','n','n','b','l','h','b','c','p','g','m','v','s','b','v','t','c','m','h','s','g','h','l','d','l','h','q','l','g','h','g','t','p','d','v','j','f','l','m','j','s','m','p','p','d','s','v','r','j','l','w','v','h','m','w','s','m','f','v','v','d','n','z','p','m','t','f','q','j','q','p','j','d','c','t','n','n','r','l','f','j','f','v','d','t','m','v','d','m','h','s','c','z','l','f','s','q','w','f','r','q','t','l','q','w','n','z','d','z','r','c','d','z','m','h','v','r','g','w','n','j','j','t','q','j','r','q','l','j','h','g','c','f','f','g','l','v','h','n','s','d','s','s','q','d','p','f','r','f','h','t','j','w','l','q','z','v','f','j','m','p','j','n','q','h','s','j','v','n','d','t','s','t','q','j','s','q','g','c','m','g','q','d','j','v','f','q','n','l','m','t','j','l','v','c','b','l','n','d','p','r','m','f','f','r','g','q','d','n','n','n','c','n','l','f','f','l','c','l','g','q','b','j','b','m','s','d','q','s','j','r','m','z','p','w','t','b','q','q','q','q','s','q','m','g','t','h','h','j','f','q','w','z','v','c','b','q','w','l','v','d','b','f','f','h','c','v','n','c','p','l','d','m','c','h','n','p','t','b','n','l','b','h','m','z','r','r','j','h','z','v','z','d','r','v','t','l','h','s','n','f','n','f','d','n','v','h','l','r','l','r','m','d','c','p','n','m','v','d','w','s','w','c','t','c','q','l','d','s','z','l','v','f','t','q','t','w','l','d','r','h','m','f','j','m','f','v','c','g','j','c','d','j','s','b','j','q','j','w','d','t','s','l','b','l','w','h','q','f','v','g','r','f','c','p','n','h','s','z','q','q','s','f','w','b','w','c','m','v','f','v','c','c','v','z','t','d','m','c','j','q','f','j','v','d','v','m','b','d','t','c','j','v','t','w','q','p','w','s','q','j','t','d','v','p','v','v','v','s','d','r','r','v','n','g','m','j','z','t','g','j','t','n','p','d','b','m','t','l','r','b','r','j','l','w','s','d','n','t','h','g','z','g','p','s','s','g','b','z','z','r','q','v','g','b','l','q','h','r','t','f','b','f','l','n','p','h','v','h','p','z','m','d','f','r','w','q','v','j','j','v','c','p','s','m','d','r','q','w','d','b','z','l','p','n','q','p','m','g','l','g','q','z','f','h','c','t','r','z','d','p','z','d','t','h','q','g','j','t','v','p','w','c','r','l','s','m','q','n','j','w','g','z','l','n','q','b','t','h','v','f','s','w','h','j','t','r','r','s','r','s','w','h','b','m','n','d','d','g','z','m','z','n','v','p','p','b','n','m','t','j','p','z','p','d','p','m','p','z','p','m','s','g','f','s','t','z','l','d','g','m','r','t','g','p','l','w','w','s','b','z','t','p','h','t','c','v','d','f','g','s','q','z','q','w','r','m','l','q','p','n','h','v','p','c','q','p','f','j','p','b','r','t','h','r','t','w','g','q','l','f','n','r','q','c','r','p','v','h','s','s','j','m','h','f','g','p','n','z','z','v','l','r','l','c','b','n','p','m','d','d','h','t','d','v','v','f','r','r','v','p','r','q','r','w','b','h','f','g','v','v','l','t','g','r','h','r','p','w','s','d','g','v','r','l','g','t','h','b','z','t','c','g','c','f','g','g','t','c','f','z','q','t','l','c','d','h','p','m','c','v','p','g','c','s','z','s','l','h','p','f','r','t','t','n','r','d','r','q','p','q','l','g','d','f','w','t','c','c','m','b','h','f','r','n','l','b','h','h','m','r','t','r','j','m','z','s','t','b','q','h','m','t','p','h','z','c','p','c','l','l','z','s','n','g','h','f','v','l','w','v','z','z','v','l','q','r','j','m','f','s','v','h','r','n','j','n','v','l','d','g','n','b','q','v','p','j','s','m','m','p','h','h','r','m','h','q','r','t','c','n','c','m','j','w','b','d','l','q','t','r','v','m','h','g','j','r','j','s','r','d','d','c','p','q','n','j','h','f','m','c','z','f','g','w','z','s','p','n','r','j','f','w','v','f','d','p','d','l','c','f','p','v','c','t','f','r','l','s','p','d','w','w','l','n','p','b','v','b','g','l','z','s','m','g','f','s','m','r','s','h','s','q','g','c','v','l','f','r','v','j','s','s','r','g','l','b','w','v','v','v','g','p','v','t','q','s','h','b','t','q','m','z','b','n','g','l','f','l','h','h','l','d','t','f','z','q','s','s','p','t','r','b','n','n','z','d','q','w','q','t','s','t','p','f','t','d','q','g','m','m','h','f','j','d','l','f','w','t','m','c','m','t','m','c','g','c','v','t','f','h','z','v','s','b','l','l','g','b','c','h','v','l','h','r','g','n','v','v','b','s','n','r','w','q','r','l','v','d','q','l','c','w','w','l','g','b','j','r','v','r','z','g','c','v','l','j','q','z','v','d','n','g','t','b','h','p','n','p','p','j','r','z','p','m','b','w','z','t','z','v','n','v','r','b','f','c','c','f','g','v','n','q','v','r','c','m','p','d','b','l','n','g','c','v','l','w','j','w','z','p','b','b','w','m','n','s','l','s','d','j','m','b','r','w','b','v','n','j','s','g','c','m','s','f','v','z','v','n','w','b','z','r','r','l','z','v','g','d','n','z','c','q','q','g','g','g','v','m','c','w','c','z','j','q','n','r','d','d','n','z','h','l','n','d','g','z','j','b','v','t','b','t','j','q','d','n','l','v','l','f','l','q','n','f','v','j','d','m','f','s','t','p','d','f','q','s','g','j','d','s','l','g','t','p','g','d','n','v','v','p','m','f','w','v','l','q','b','m','b','g','d','r','q','j','h','d','f','h','l','m','s','d','t','f','w','p','s','c','s','v','d','z','m','s','w','s','z','j','f','w','q','t','s','j','q','p','f','n','j','j','l','n','s','s','p','v','l','g','z','w','w','t','v','w','g','d','z','f','j','j','l','j','f','w','b','v','f','b','v','p','g','l','c','q','c','d','b','d','p','s','h','w','c','q','z','s','w','b','w','h','f','t','b','f','q','b','l','z','p','q','f','m','q','p','v','z','d','j','s','r','c','q','t','v','j','n','t','n','h','m','l','h','m','z','l','l','f','f','c','j','s','d','n','w','p','f','z','d','g','l','v','l','r','h','r','l','j','b','r','h','j','h','g','d','n','f','c','q','c','r','c','c','w','r','b','b','h','r','v','q','w','r','z','l','w','j','r','r','w','z','s','f','c','w','s','v','b','q','s','j','g','t','g','p','z','q','w','l','c','z','l','j','r','t','d','h','t','z','c','g','s','f','g','q','s','s','d','b','j','j','m','t','t','d','t','z','h','r','q','t','b','q','j','t','q','f','w','m','c','p','d','f','t','r','f','j','m','z','n','p','s','c','s','q','m','t','f','c','d','p','c','d','j','w','c','q','j','v','m','h','n','g','c','q','n','m','t','m','w','f','t','t','c','v','p','w','g','c','n','h','h','g','n','n','b','g','j','d','v','z','t','z','h','c','z','v','q','l','j','j','q','w','c','m','w','c','b','v','m','q','q','j','s','f','n','m','h','t','b','t','s','v','s','n','s','f','w','f','z','g','d','v','l','c','t','r','g','d','v','b','j','q','p','g','f','r','r','l','s','n','p','p','m','v','h','f','b','b','c','l','p','r','l','v','c','s','s','n','v','t','s','g','f','t','m','l','p','q','r','p','j','z','r','r','p','h','r','z','l','t','b','t','g','f','w','j','q','q','v','b','g','q','j','d','p','d','g','q','v','z','p','p','f','z','c','b','h','d','b','b','j','t','t','c','d','z','c','l','s','p','h','t','l','z','f','v','n','f','q','g','p','m','q','v','p','z','r','q','g','p','d','n','b','m','s','r','q','g','s','n','f','d','w','p','v','n','d','z','m','s','l','l','g','m','n','r','l','h','n','n','z','l','d','w','s','h','t','r','r','s','r','s','m','d','n','c','w','r','c','j','n','m','c','j','l','w','b','b','f','p','z','c','w','z','v','l','d','t','g','v','b','c','v','h','n','b','h','g','j','g','w','j','c','v','s','l','r','f','c','w','b','q','l','r','q','l','d','v','p','c','g','n','b','w','b','z','z','n','c','n','c','f','t','r','g','b','r','w','c','h','f','r','r','t','n','p','q','s','j','b','c','p','z','v','p','l','n','b','q','d','g','t','v','n','n','r','c','w','w','f','v','b','d','z','d','r','s','f','s','p','v','t','b','h','f','l','h','s','b','q','m','l','s','j','v','f','m','p','v','j','b','f','v','c','r','d','m','g','r','f','q','s','m','q','g','f','r','n','t','f','q','n','l','q','b','v','m','s','q','t','p','n','c','j','r','s','t','s','p','b','q','v','f','m','d','d','m','h','w','s','s','s','d','c','d','d','s','h','m','w','d','l','s','c','t','t','m','d','z','l','j','t','p','w','h','z','h','z','h','w','s','d','n','m','g','j','s','t','f','m','l','n','q','q','v','z','z','d','q','p','q','s','j','d','s','l','l','s','w','m','q','c','j','t','n','t','h','w','q','n','h','b','s','c','r','j','d','s','t','l','j','q','g','n','c','j','v','j','v','l','p','f','r','t','s','c','r','z','r','q','g','h','r','d','v','d','n','b','t','n','p','s','h','p','l','d','c','c','h','l','j','z','r','z','q','j','l','w','w','s','c','n','p','h','v','r','w','l','v','z','t','t','c','d','j','d','r','d','d','g','m','v','q','p','v','d','m','t','t','d','q','h','w','p','f','m','s','l','z','v','n','r','w','l','r','r','d','t','t','b','h','c','t','g','p','g','z','j','r','m','d','w','j','b','c','m','s','p','r','w','g','g','v','m','d','m','m','l','t','l','d','g','p','b','f','n','p','p','n','r','p','w','c','n','p','g','t','b','l','c','c','d','v','b','s','n','f','v','g','z','m','j','p','p','f','t','v','n','d','m','d','s','l','f','s','h','j','v','n','d','f','v','v','z','j','j','l','z','h','g','f','m','h','c','g','g','t','t','r','c','r','b','r','l','w','r','q','g','j','p','c','h','v','h','n','j','w','q','n','b','s','n','m','f','t','w','s','z','h','z','f','t','g','l','r','f','d','v','v','n','b','c','b','z','s','s','l','g','m','d','c','h','t','r','r','r','q','q','z','h','l','l','r','f','h','w','f','w','b','b','d','g','f','p','d','f','w','s','s','m','z','c','f','c','n','z','m','r','h','f','d','d','d','t','d','h','f','q','m','c','t','s','g','l','q','b','w','h','w','p','n','b','d','z','b','s','f','b','b','v','v','t','h','r','r','g','j','v','z','t','j','j','w','g','j','c','g','j','n','t','r','d','d','m','m','d','l','d','t','m','v','j','n','w','j','b','c','q','w','f','w','v','f','h','s','r','p','c','h','z','n','h','l','q','p','c','t','t','q','j','f','f','b','r','p','b','f','t','f','t','d','j','z','l','r','q','c','h','m','z','r','f','g','j','r','q','l','n','d','f','w','f','r','g','h','t','s','f','s','b','l','c','v','t','j','m','j','r','b','f','r','w','d','g','s','g','z','m','m','j','p','d','l','b','w','z','f','s','c','f','s','f','c','d','q','w','d','w','n','j','w','j','b','v','v','b','p','t','m','f','r','q','l','t','m','n','l','p','b','t','r','q','s','p','w','d','f','m','h','n','n','c','q','g','t','r','t','m','b','z','h','f','m','w','r','b','c','q','h','m','m','p','m','v','p','r','v','w','r','j','p','l','s','p','c','m','m','s','p','l','d','m','b','g','p','b','t','m','q','j','t','r','f','c','p','f','h','c','n','p','j','b','n','l','h','j','p','z','f','l','s','t','j','q','f','q','v','z','c','n','f','g','v','r','m','t','p','l','n','d','c','h','f','f','z','r','t','f','r','q','d','p','d','n','z','r','s','p','d','d','w','m','p','z','l','f','c','h','r','z','z','f','c','f','v','m','b','v','f','n','l','f','w','t','f','b','v','n','f','f','d','q','h','l','j','b','v','w','w','d','t','m','s','z','g','r','j','t','z','w','q','d','b','g','v','v','f','p','h','c','n','s','d','g','v','l','m','s','l','q','n','g','f','m','s','b','r','z','t','r','n','p','j','p','r','g','h','m','j','f','f','s','c','b','n','f','q','w','r','v','j','j','j','t','f','z','r','m','j','t','z','b','w','d','s','m','z','g','m','b','t','j','z','v','d','d','h','n','g','m','z','v','f','l','w','f','t','b','l','b','z','f','d'};
  }

  private int findMarker(int length) {
    var marker = new LinkedList<Character>();
    int i = 0;
    while (i < length) {
      marker.add(input[i]);
      i++;
    }

    while (i < input.length) {
      if (marker.stream().distinct().count() == length) {
        return i;
      } else {
        marker.remove();
        marker.add(input[i]);
        i++;
      }
    }

    // we didn't find it, return -1 as an error
    return -1;
  }

  @Override
  void part1() {
    final int length = 4;
    final int result = findMarker(length);

    if (result == -1) {
      System.out.println("Day 5, part 1. " + MARKER_NOT_FOUND);
    } else {
      System.out.println("Day 5, part 1 output: " + result);
    }
  }

  @Override
  void part2() {
    final int length = 14;
    final int result = findMarker(length);

    if (result == -1) {
      System.out.println("Day 5, part 2. " + MARKER_NOT_FOUND);
    } else {
      System.out.println("Day 5, part 2 output: " + result);
    }
  }
}
